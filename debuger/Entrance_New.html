<!DOCTYPE html>
<html lang="en">
    <head>
        <title>BasChain</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="./web3.min.js"></script>
    </head>
    <body>
        <h2>smart contract test field</h2>
    </body>

    <script>
        //load web3
        (async()=>{
            // Modern dApp browsers...
            if (window.ethereum) {
                window.web3 = new Web3(ethereum)
                try {
                    // Request account access if needed
                    await ethereum.enable()
                    // Acccounts now exposed
                    web3.eth.sendTransaction({/* ... */})
                } catch (error) {
                    // User denied account access...
                }
            }
            // Legacy dApp browsers...
            // else if (window.web3) {
            //     App.web3Provider = web3.currentProvider
            //     window.web3 = new Web3(web3.currentProvider)
            //     // Acccounts always exposed
            //     web3.eth.sendTransaction({/* ... */})
            // }
            // // Non-dApp browsers...
            // else {
            //     console.log('Non-Ethereum browser detected. You should consider trying MetaMask!')
            // }
            // if (typeof web3 !== 'undefined') {
            //     App.web3Provider = web3.currentProvider
            //     web3 = new Web3(web3.currentProvider)
            // } else {
            //     window.alert("Please connect to Metamask.")
            // }
        })();


        //////////////////////////////////////////////////////////////////////////


        ContractData = {
            _basTokenAbi : [{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"INITIAL_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}],
            _basTokenAddress : "0x9d0314f9Bacd569DCB22276867AAEeE1C8A87614",
            _basMarketAbi : [{"inputs":[{"internalType":"address","name":"_t","type":"address"},{"internalType":"address","name":"_o","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"AskAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"AskChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"operator","type":"address"}],"name":"AskRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"SellAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"SellChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"operator","type":"address"}],"name":"SellRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"SoldByAsk","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"SoldBySell","type":"event"},{"constant":true,"inputs":[],"name":"AT_LEAST_REMAIN_TIME","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"protectiveRemainTime","type":"uint256"}],"name":"AddToAsks","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"AddToSells","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"AskOrders","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"protectiveRemainTime","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"address","name":"owner","type":"address"}],"name":"BuyFromSells","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"protectiveRemainTime","type":"uint256"}],"name":"ChangeAsksData","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"ChangeSellPrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"}],"name":"RemoveAskOrder","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"}],"name":"RemoveSellOrder","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"SellOrders","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"address","name":"to","type":"address"}],"name":"SellToAsks","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"o","outputs":[{"internalType":"contractBasOwnership","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"t","outputs":[{"internalType":"contractERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}],
            _basMarketAddress : "0xA32ccce4B7aB28d3Ce40BBa03A2748bCbe4544dB",
            _basOANNAbi : [{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"_a_changeAdmin","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"conAddr","type":"address"}],"name":"_a_changeContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"}],"name":"closeCustomedPrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"}],"name":"closeToPublic","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"openCustomedPrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"}],"name":"openToPublic","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"newGas","type":"uint256"}],"name":"setBRootGas","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_t","type":"address"},{"internalType":"address","name":"_o","type":"address"},{"internalType":"address","name":"_a","type":"address"},{"internalType":"address","name":"_d","type":"address"},{"internalType":"address","name":"_m","type":"address"},{"internalType":"address","name":"_r","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"payer","type":"address"},{"indexed":false,"internalType":"bytes","name":"name","type":"bytes"},{"indexed":false,"internalType":"string","name":"option","type":"string"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"bytes32","name":"receipt","type":"bytes32"}],"name":"Paid","type":"event"},{"constant":false,"inputs":[{"internalType":"bytes","name":"name","type":"bytes"},{"internalType":"uint8","name":"durationInYear","type":"uint8"}],"name":"recharge","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"name","type":"bytes"},{"internalType":"bool","name":"isOpen","type":"bool"},{"internalType":"bool","name":"isCustomed","type":"bool"},{"internalType":"uint256","name":"cusPrice","type":"uint256"},{"internalType":"uint8","name":"durationInYear","type":"uint8"}],"name":"registerRoot","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"rName","type":"bytes"},{"internalType":"bytes","name":"sName","type":"bytes"},{"internalType":"uint8","name":"durationInYear","type":"uint8"}],"name":"registerSub","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"newGas","type":"uint256"}],"name":"setARootGas","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"newGas","type":"uint256"}],"name":"setCustomedPriceGas","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"year","type":"uint256"}],"name":"setMaxYear","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint8","name":"len","type":"uint8"}],"name":"setRareTypeLength","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"bytes4","name":"ipv4","type":"bytes4"},{"internalType":"bytes16","name":"ipv6","type":"bytes16"},{"internalType":"bytes","name":"bca","type":"bytes"},{"internalType":"bytes","name":"opData","type":"bytes"},{"internalType":"string","name":"aliasName","type":"string"}],"name":"setRecord","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"newGas","type":"uint256"}],"name":"setSubGas","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[],"name":"SettingChanged","type":"event"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"AROOT_GAS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BROOT_GAS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"checkAssociatedContractAddress","outputs":[{"internalType":"address","name":"BasToken","type":"address"},{"internalType":"address","name":"BasOwnership","type":"address"},{"internalType":"address","name":"BasAsset","type":"address"},{"internalType":"address","name":"BasDNS","type":"address"},{"internalType":"address","name":"BasMiner","type":"address"},{"internalType":"address","name":"BasRule","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"contractCaller","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"CUSTOMED_PRICE_GAS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"name","type":"bytes"},{"internalType":"bool","name":"isCustomed","type":"bool"},{"internalType":"uint8","name":"durationInYear","type":"uint8"}],"name":"evalueRootPrice","outputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"bool","name":"isValid","type":"bool"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"exist","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"rName","type":"bytes"},{"internalType":"bytes","name":"sName","type":"bytes"},{"internalType":"uint8","name":"durationInYear","type":"uint8"}],"name":"evalueSubPrice","outputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"},{"internalType":"bytes","name":"totalName","type":"bytes"},{"internalType":"bytes32","name":"rootHash","type":"bytes32"},{"internalType":"bool","name":"isValid","type":"bool"},{"internalType":"address","name":"rootOwner","type":"address"},{"internalType":"bool","name":"isCustomed","type":"bool"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"exist","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_YEAR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"RARE_TYPE_LENGTH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"SUB_GAS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint8","name":"y","type":"uint8"}],"name":"validDuration","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"}],
            _basOANNAddress : "0x48cF3d23B152Abb79C139Bfe21f47b3Cee14B4ff",
            _basMinerAbi : [{"inputs":[{"internalType":"address","name":"t","type":"address"},{"internalType":"address","name":"team","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"allocateType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"toAdmin","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toBurn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toMiner","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toRoot","type":"uint256"}],"name":"AllocationChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"miner","type":"address"}],"name":"MinerAdd","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"miner","type":"address"}],"name":"MinerRemove","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldMiner","type":"address"},{"indexed":false,"internalType":"address","name":"newMiner","type":"address"}],"name":"MinerReplace","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"receiptNumber","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"amout","type":"uint256"},{"indexed":false,"internalType":"uint8","name":"allocation","type":"uint8"},{"indexed":false,"internalType":"address","name":"from","type":"address"}],"name":"Receipt","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"drawer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amout","type":"uint256"}],"name":"Withdraw","type":"event"},{"constant":true,"inputs":[],"name":"AllocationCustomedSub","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"AllocationRoot","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"AllocationSelfSub","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"AllocationSub","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"GetAllMainNodeAddress","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"MainNode","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MainNodeSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"OANNAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"Satoshi_Nakamoto","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"m","type":"address"}],"name":"_a_addMiner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"_a_changeAdmin","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"conAddr","type":"address"}],"name":"_a_changeContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"admin","type":"uint256"},{"internalType":"uint256","name":"burn","type":"uint256"},{"internalType":"uint256","name":"miner","type":"uint256"},{"internalType":"uint256","name":"root","type":"uint256"}],"name":"_a_changeCustomedSubSetting","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"admin","type":"uint256"},{"internalType":"uint256","name":"burn","type":"uint256"},{"internalType":"uint256","name":"miner","type":"uint256"},{"internalType":"uint256","name":"root","type":"uint256"}],"name":"_a_changeDefaultSubSetting","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"admin","type":"uint256"},{"internalType":"uint256","name":"burn","type":"uint256"},{"internalType":"uint256","name":"miner","type":"uint256"}],"name":"_a_changeRootSetting","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"admin","type":"uint256"},{"internalType":"uint256","name":"burn","type":"uint256"},{"internalType":"uint256","name":"miner","type":"uint256"},{"internalType":"uint256","name":"root","type":"uint256"}],"name":"_a_changeSelfSubSetting","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"no","type":"uint256"}],"name":"_a_emergencyWithdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"miner","type":"address"}],"name":"_a_removeMiner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"oldM","type":"address"},{"internalType":"address","name":"newM","type":"address"}],"name":"_a_replaceMiner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"uint8","name":"allocateType","type":"uint8"},{"internalType":"bytes32","name":"receiptNumber","type":"bytes32"},{"internalType":"address","name":"rootOwner","type":"address"}],"name":"_c_allocateProfit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"contractCaller","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"customedSubSetting","outputs":[{"internalType":"uint256","name":"toAdmin","type":"uint256"},{"internalType":"uint256","name":"toBurn","type":"uint256"},{"internalType":"uint256","name":"toMiner","type":"uint256"},{"internalType":"uint256","name":"toRootOwner","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"defaultSubSetting","outputs":[{"internalType":"uint256","name":"toAdmin","type":"uint256"},{"internalType":"uint256","name":"toBurn","type":"uint256"},{"internalType":"uint256","name":"toMiner","type":"uint256"},{"internalType":"uint256","name":"toRootOwner","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rootSetting","outputs":[{"internalType":"uint256","name":"toAdmin","type":"uint256"},{"internalType":"uint256","name":"toBurn","type":"uint256"},{"internalType":"uint256","name":"toMiner","type":"uint256"},{"internalType":"uint256","name":"toRootOwner","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"selfSubSetting","outputs":[{"internalType":"uint256","name":"toAdmin","type":"uint256"},{"internalType":"uint256","name":"toBurn","type":"uint256"},{"internalType":"uint256","name":"toMiner","type":"uint256"},{"internalType":"uint256","name":"toRootOwner","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"token","outputs":[{"internalType":"contractBasToken","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}],
            _basMinerAddress : "0xCAB59645aE535A7b5a4f81d8D17E2fe0d2Cf4687",
        }
        ContractData._basToken = new web3.eth.Contract(ContractData._basTokenAbi,ContractData._basTokenAddress);
        ContractData._basMarket = new web3.eth.Contract(ContractData._basMarketAbi,ContractData._basMarketAddress);
        ContractData._basOANN = new web3.eth.Contract(ContractData._basOANNAbi,ContractData._basOANNAddress);
        ContractData._basMiner = new web3.eth.Contract(ContractData._basMinerAbi,ContractData._basMinerAddress);
        


        ContractFunc = {
           ASCII : (str)=>{
                if(str.length==0){
                    return "0x00"
                }else{
                    return str.split("").map(e=>e.charCodeAt()).reduce((a,b)=>a+b.toString(16),"0x");
                }
            },

            ToString : (ascii)=>{
                charCode = [];
                for (i=2;i<ascii.length-1;i+=2){
                    charCode.push("0x"+ascii[i]+ascii[i+1]);
                }
                return charCode.map((e)=>String.fromCharCode(e)).reduce((a,b)=>a+b);
            },

            Hash : (str)=>{
                return web3.utils.keccak256(str);
            },

            IPv4ToHex :(ip)=>{
            var slices = ip.split(".");
            if (slices.length!=4){
                throw new Error("not a valid ipv4 address");
            }
            var convert = (slices.map(element => {
                if(isNaN(element)||element<0 || element>255){
                    throw new Error("not a valid ipv4 address");
                }else{
                    var temp = parseInt(element).toString(16);
                    temp = temp.length==1?"0"+temp:temp;
                    return temp;
                }
            })).join("");
            return "0x"+convert;
            },

            IPv6ToHex : (ip)=>{
                if(ip==""){
                    return "00000000000000000000000000000000";
                }
                var striped = ip.replace(/:/g,"");
                if (striped!=striped.match(/^[0-9a-fA-F]{32}$/g)[0]){
                    throw new Error("not a valid ipv6 address / shorted version not allowed");
                }else{
                    return "0x"+striped;
                }
            },
        }





    </script>
</html>
